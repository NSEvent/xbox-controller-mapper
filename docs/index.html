<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xbox Controller Mapper - Support</title>
    <style>
        :root {
            --primary: #107C10;
            --primary-dark: #0e6b0e;
            --bg: #fafafa;
            --card-bg: #ffffff;
            --text: #1a1a1a;
            --text-muted: #666;
            --border: #e0e0e0;
            --code-bg: #f4f4f4;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --primary: #2ecc40;
                --primary-dark: #27ae35;
                --bg: #121212;
                --card-bg: #1e1e1e;
                --text: #e0e0e0;
                --text-muted: #999;
                --border: #333;
                --code-bg: #2a2a2a;
            }
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem 1.5rem;
        }

        header {
            text-align: center;
            padding: 3rem 1rem;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
        }

        header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .download-btn {
            display: inline-block;
            margin-top: 1.5rem;
            padding: 0.75rem 2rem;
            background: white;
            color: var(--primary);
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        nav {
            background: var(--card-bg);
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav ul {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            list-style: none;
            padding: 0.75rem;
            gap: 0.5rem;
        }

        nav a {
            color: var(--text);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.9rem;
            transition: background 0.2s;
        }

        nav a:hover {
            background: var(--code-bg);
        }

        section {
            margin-bottom: 3rem;
        }

        h2 {
            font-size: 1.75rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--primary);
        }

        h3 {
            font-size: 1.25rem;
            margin: 1.5rem 0 1rem;
            color: var(--text);
        }

        p {
            margin-bottom: 1rem;
        }

        .card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border: 1px solid var(--border);
        }

        .card h3 {
            margin-top: 0;
        }

        ol, ul {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        code {
            background: var(--code-bg);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 0.9em;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        th, td {
            text-align: left;
            padding: 0.75rem;
            border-bottom: 1px solid var(--border);
        }

        th {
            font-weight: 600;
            background: var(--code-bg);
        }

        .faq-item {
            border: 1px solid var(--border);
            border-radius: 8px;
            margin-bottom: 0.75rem;
            overflow: hidden;
        }

        .faq-question {
            width: 100%;
            padding: 1rem 1.25rem;
            background: var(--card-bg);
            border: none;
            text-align: left;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            color: var(--text);
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.2s;
        }

        .faq-question:hover {
            background: var(--code-bg);
        }

        .faq-question::after {
            content: '+';
            font-size: 1.5rem;
            font-weight: 300;
            color: var(--text-muted);
            transition: transform 0.2s;
        }

        .faq-item.open .faq-question::after {
            transform: rotate(45deg);
        }

        .faq-answer {
            display: none;
            padding: 1rem 1.25rem;
            background: var(--bg);
            border-top: 1px solid var(--border);
        }

        .faq-item.open .faq-answer {
            display: block;
        }

        .faq-answer p:last-child {
            margin-bottom: 0;
        }

        .troubleshoot-item {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.25rem;
            margin-bottom: 1rem;
        }

        .troubleshoot-item h4 {
            color: var(--primary);
            margin-bottom: 0.75rem;
        }

        .key {
            display: inline-block;
            padding: 0.15rem 0.5rem;
            background: var(--code-bg);
            border: 1px solid var(--border);
            border-radius: 4px;
            font-family: -apple-system, sans-serif;
            font-size: 0.9em;
        }

        .requirements {
            display: grid;
            gap: 1rem;
        }

        @media (min-width: 600px) {
            .requirements {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .requirement {
            text-align: center;
            padding: 1.5rem;
            background: var(--card-bg);
            border-radius: 8px;
            border: 1px solid var(--border);
        }

        .requirement-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .requirement h4 {
            font-size: 1rem;
            margin-bottom: 0.25rem;
        }

        .requirement p {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin: 0;
        }

        .steps {
            counter-reset: step;
        }

        .step {
            position: relative;
            padding-left: 3rem;
            margin-bottom: 1.5rem;
        }

        .step::before {
            counter-increment: step;
            content: counter(step);
            position: absolute;
            left: 0;
            top: 0;
            width: 2rem;
            height: 2rem;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.9rem;
        }

        footer {
            text-align: center;
            padding: 2rem;
            background: var(--card-bg);
            border-top: 1px solid var(--border);
            margin-top: 3rem;
        }

        footer a {
            color: var(--primary);
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        .links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 1rem;
        }

        .badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            background: var(--primary);
            color: white;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: 0.5rem;
        }

        .faq-category {
            margin-bottom: 2rem;
        }

        .faq-category h3 {
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border);
        }
    </style>
</head>
<body>
    <header>
        <h1>Xbox Controller Mapper</h1>
        <p>Map your Xbox controller to keyboard shortcuts, mouse, and scroll on macOS</p>
        <a href="https://thekevintang.gumroad.com/l/xbox-controller-mapper" class="download-btn">Download on Gumroad</a>
    </header>

    <nav>
        <ul>
            <li><a href="#getting-started">Getting Started</a></li>
            <li><a href="#features">Features</a></li>
            <li><a href="#troubleshooting">Troubleshooting</a></li>
            <li><a href="#faq">FAQ</a></li>
        </ul>
    </nav>

    <div class="container">
        <section id="getting-started">
            <h2>Getting Started</h2>

            <h3>Requirements</h3>
            <div class="requirements">
                <div class="requirement">
                    <div class="requirement-icon">üíª</div>
                    <h4>macOS 14.0+</h4>
                    <p>Sonoma or later</p>
                </div>
                <div class="requirement">
                    <div class="requirement-icon">üéÆ</div>
                    <h4>Xbox Controller</h4>
                    <p>Bluetooth enabled</p>
                </div>
                <div class="requirement">
                    <div class="requirement-icon">üîê</div>
                    <h4>Accessibility</h4>
                    <p>Permission required</p>
                </div>
            </div>

            <h3>Installation</h3>
            <div class="steps">
                <div class="step">
                    <strong>Download</strong> the app from <a href="https://thekevintang.gumroad.com/l/xbox-controller-mapper">Gumroad</a>
                </div>
                <div class="step">
                    <strong>Unzip</strong> and move the app to <code>/Applications</code>
                </div>
                <div class="step">
                    <strong>Launch</strong> the app and grant Accessibility permissions when prompted
                </div>
                <div class="step">
                    <strong>Connect</strong> your Xbox controller via Bluetooth
                </div>
            </div>

            <div class="card">
                <h3>Granting Accessibility Permissions</h3>
                <p>The app requires Accessibility permissions to simulate keyboard and mouse input:</p>
                <ol>
                    <li>When prompted, click "Open System Settings"</li>
                    <li>Find "Xbox Controller Mapper" in the list</li>
                    <li>Toggle it <strong>ON</strong></li>
                    <li>Restart the app if needed</li>
                </ol>
                <p style="margin-bottom: 0;"><strong>Why is this needed?</strong> The app uses Apple's CGEvent API to generate keyboard and mouse events. This is the same API used by accessibility tools and input remapping utilities.</p>
            </div>
        </section>

        <section id="features">
            <h2>Features</h2>

            <div class="card">
                <h3>Button Mapping</h3>
                <p>Click any button on the controller visualization to configure its mapping:</p>
                <table>
                    <tr>
                        <th>Feature</th>
                        <th>Description</th>
                    </tr>
                    <tr>
                        <td>Simple Key</td>
                        <td>Press controller button ‚Üí send keystroke</td>
                    </tr>
                    <tr>
                        <td>Modifier + Key</td>
                        <td>Send combinations like <span class="key">‚åò</span>+<span class="key">C</span></td>
                    </tr>
                    <tr>
                        <td>Hold Modifier</td>
                        <td>Hold button to hold <span class="key">‚åò</span> <span class="key">‚å•</span> <span class="key">‚áß</span> <span class="key">‚åÉ</span></td>
                    </tr>
                    <tr>
                        <td>Long Hold</td>
                        <td>Different action when held longer</td>
                    </tr>
                    <tr>
                        <td>Double Tap</td>
                        <td>Different action on quick double press</td>
                    </tr>
                    <tr>
                        <td>Repeat</td>
                        <td>Auto-repeat while holding</td>
                    </tr>
                </table>
            </div>

            <div class="card">
                <h3>Chord Mappings</h3>
                <p>Press multiple buttons simultaneously for a single action:</p>
                <ul>
                    <li><strong>RB + X</strong> ‚Üí <span class="key">‚åò</span>+<span class="key">Delete</span> (forward delete)</li>
                    <li><strong>LB + View</strong> ‚Üí <span class="key">‚åò</span>+<span class="key">-</span> (zoom out)</li>
                </ul>
                <p style="margin-bottom: 0;">Configure chords in the "Chords" tab.</p>
            </div>

            <div class="card">
                <h3>Joystick Control</h3>
                <table>
                    <tr>
                        <th>Joystick</th>
                        <th>Function</th>
                    </tr>
                    <tr>
                        <td>Left Stick</td>
                        <td>Mouse movement</td>
                    </tr>
                    <tr>
                        <td>Right Stick</td>
                        <td>Scroll wheel</td>
                    </tr>
                </table>
                <p><strong>Adjustable settings:</strong></p>
                <ul style="margin-bottom: 0;">
                    <li><strong>Sensitivity</strong> - Movement speed</li>
                    <li><strong>Deadzone</strong> - Prevents drift</li>
                    <li><strong>Acceleration</strong> - Speed curve</li>
                    <li><strong>Focus Mode</strong> - Hold modifier for precise movement</li>
                </ul>
            </div>

            <div class="card">
                <h3>Profiles</h3>
                <p>Create multiple profiles for different use cases. Each profile stores:</p>
                <ul style="margin-bottom: 0;">
                    <li>Button mappings</li>
                    <li>Chord configurations</li>
                    <li>Joystick settings</li>
                </ul>
                <p style="margin-top: 1rem; margin-bottom: 0;">Switch profiles from the menu bar. Settings are saved to <code>~/.xbox-controller-mapper/config.json</code></p>
            </div>
        </section>

        <section id="troubleshooting">
            <h2>Troubleshooting</h2>

            <div class="troubleshoot-item">
                <h4>Controller Not Detected</h4>
                <ol style="margin-bottom: 0;">
                    <li>Check Bluetooth connection in System Settings</li>
                    <li>Re-pair: Forget the device and pair again</li>
                    <li>Restart the app</li>
                    <li>Check controller battery level</li>
                </ol>
            </div>

            <div class="troubleshoot-item">
                <h4>Button Presses Not Working</h4>
                <ol style="margin-bottom: 0;">
                    <li>Verify Accessibility permissions (System Settings ‚Üí Privacy & Security ‚Üí Accessibility)</li>
                    <li>Toggle the permission off and on</li>
                    <li>Restart the app after granting permissions</li>
                    <li>Check the enable/disable toggle in the menu bar</li>
                </ol>
            </div>

            <div class="troubleshoot-item">
                <h4>Mouse/Scroll Issues</h4>
                <ol style="margin-bottom: 0;">
                    <li>Increase deadzone if joystick drifts</li>
                    <li>Adjust sensitivity if movement is too slow/fast</li>
                    <li>Verify mapping is enabled in menu bar</li>
                </ol>
            </div>

            <div class="troubleshoot-item">
                <h4>Stuck Modifier Keys</h4>
                <p style="margin-bottom: 0;">If a modifier gets stuck after disconnecting: press the physical modifier key on your keyboard, or restart the app.</p>
            </div>

            <div class="troubleshoot-item">
                <h4>App Won't Launch</h4>
                <ol style="margin-bottom: 0;">
                    <li>Check macOS version (requires 14.0+)</li>
                    <li>Reset config: Delete <code>~/.xbox-controller-mapper/config.json</code></li>
                    <li>Check Console.app for crash logs</li>
                </ol>
            </div>
        </section>

        <section id="faq">
            <h2>Frequently Asked Questions</h2>

            <div class="faq-category">
                <h3>General</h3>

                <div class="faq-item">
                    <button class="faq-question">Is my data safe? This app requires Accessibility permissions.</button>
                    <div class="faq-answer">
                        <p>Yes. The app is fully open source so you can verify exactly what it does. It does not connect to the internet, collect data, or log your inputs. Controller inputs are translated to keyboard/mouse events in real-time and immediately discarded.</p>
                        <p>The app is signed with an Apple Developer ID certificate and notarized by Apple.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">Does the app work with third-party Xbox controllers?</button>
                    <div class="faq-answer">
                        <p>The app uses Apple's GameController framework, which supports official Xbox controllers. Third-party controllers may work if macOS recognizes them as Xbox controllers, but compatibility varies.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">Can I use multiple controllers at once?</button>
                    <div class="faq-answer">
                        <p>Currently, the app supports one controller at a time. The first connected Xbox controller will be used.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">Does this work with games?</button>
                    <div class="faq-answer">
                        <p>The app is designed for productivity use (coding, browsing, general computer use). Most games have native controller support and don't need this app. Using the app with games may cause conflicts or double inputs.</p>
                    </div>
                </div>
            </div>

            <div class="faq-category">
                <h3>Mapping</h3>

                <div class="faq-item">
                    <button class="faq-question">How do I make a button act as a held modifier?</button>
                    <div class="faq-answer">
                        <p>When configuring a button, select only the modifier (<span class="key">‚åò</span> <span class="key">‚å•</span> <span class="key">‚áß</span> <span class="key">‚åÉ</span>) without a key, and enable "Hold Modifier". The modifier will be held while the button is pressed and released when you let go.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">Can I map a button to mouse clicks?</button>
                    <div class="faq-answer">
                        <p>Yes. In the key capture field, you can select "Mouse Left Click" or "Mouse Right Click" as the action.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">How do long hold and double tap work together?</button>
                    <div class="faq-answer">
                        <p>They're independent:</p>
                        <ul>
                            <li>Quick tap ‚Üí normal action</li>
                            <li>Quick double-tap ‚Üí double-tap action</li>
                            <li>Hold past threshold ‚Üí long-hold action</li>
                        </ul>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">What's the difference between a chord and a long hold?</button>
                    <div class="faq-answer">
                        <p>A <strong>chord</strong> requires pressing multiple buttons simultaneously. A <strong>long hold</strong> requires holding a single button for a longer duration.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">Can I disable a button completely?</button>
                    <div class="faq-answer">
                        <p>Yes. Clear the mapping by removing the key code and all modifiers. The button will do nothing when pressed.</p>
                    </div>
                </div>
            </div>

            <div class="faq-category">
                <h3>Joystick</h3>

                <div class="faq-item">
                    <button class="faq-question">My joystick drifts when I'm not touching it.</button>
                    <div class="faq-answer">
                        <p>Increase the deadzone setting. A deadzone of 15-20% usually eliminates drift while maintaining responsiveness.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">How do I get precise mouse control?</button>
                    <div class="faq-answer">
                        <p>Use Focus Mode. Configure a modifier key as the focus mode trigger, then hold that modifier while using the joystick for slower, more precise movement.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">Can I swap the left and right joystick functions?</button>
                    <div class="faq-answer">
                        <p>Currently, left joystick is always mouse and right joystick is always scroll. This is not configurable.</p>
                    </div>
                </div>
            </div>

            <div class="faq-category">
                <h3>Profiles</h3>

                <div class="faq-item">
                    <button class="faq-question">Where are my profiles stored?</button>
                    <div class="faq-answer">
                        <p>Profiles are saved to <code>~/.xbox-controller-mapper/config.json</code>. This is a human-readable JSON file.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">Can I share profiles with others?</button>
                    <div class="faq-answer">
                        <p>Yes. You can copy the config.json file or use the export feature to share individual profiles.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">I lost my settings. Can I recover them?</button>
                    <div class="faq-answer">
                        <p>If you have Time Machine backups, you can restore <code>~/.xbox-controller-mapper/config.json</code> from a backup.</p>
                    </div>
                </div>
            </div>

            <div class="faq-category">
                <h3>Technical</h3>

                <div class="faq-item">
                    <button class="faq-question">Does the app work with Karabiner-Elements?</button>
                    <div class="faq-answer">
                        <p>Generally yes. The apps operate at different levels (Xbox Controller Mapper handles controller input, Karabiner handles keyboard input), so they typically don't conflict.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">Can I run the app at login?</button>
                    <div class="faq-answer">
                        <p>Yes. Add Xbox Controller Mapper to System Settings ‚Üí General ‚Üí Login Items.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <button class="faq-question">Why does the app need to stay running?</button>
                    <div class="faq-answer">
                        <p>The app continuously monitors controller input and translates it to keyboard/mouse events in real-time. Quitting the app stops all mapping.</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <footer>
        <div class="links">
            <a href="https://github.com/NSEvent/xbox-controller-mapper/issues">Report Issue</a>
            <a href="https://github.com/NSEvent/xbox-controller-mapper">Source Code</a>
            <a href="https://thekevintang.gumroad.com/l/xbox-controller-mapper">Purchase</a>
        </div>
        <p style="color: var(--text-muted); font-size: 0.9rem;">Xbox Controller Mapper &copy; 2025</p>
    </footer>

    <script>
        document.querySelectorAll('.faq-question').forEach(button => {
            button.addEventListener('click', () => {
                const item = button.parentElement;
                item.classList.toggle('open');
            });
        });
    </script>
</body>
</html>
